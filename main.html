<!DOCTYPE html>
<html>
<head>
  <title>Tic Tac Toe</title>
  <style>
    .container {
      text-align: center;
    }

    #board {
      margin: 20px auto;
      width: 300px;
      height: 300px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 2px;
      border: 1px solid #000;
    }

    .cell {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 36px;
      cursor: pointer;
    }

    .message {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="player-input">
      <label for="player-1">Player 1: </label>
      <input type="text" id="player-1" placeholder="Enter name for Player 1">
      <br>
      <label for="player-2">Player 2: </label>
      <input type="text" id="player-2" placeholder="Enter name for Player 2">
      <br>
      <button id="submit">Submit</button>
    </div>
    <div id="game" style="display: none;">
      <h1>Tic Tac Toe</h1>
      <div class="message"></div>
      <div id="board">
        <div class="cell" id="1"></div>
        <div class="cell" id="2"></div>
        <div class="cell" id="3"></div>
        <div class="cell" id="4"></div>
        <div class="cell" id="5"></div>
        <div class="cell" id="6"></div>
        <div class="cell" id="7"></div>
        <div class="cell" id="8"></div>
        <div class="cell" id="9"></div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById("submit").addEventListener("click", function() {
      var player1 = document.getElementById("player-1").value;
      var player2 = document.getElementById("player-2").value;

      if (player1 !== "" && player2 !== "") {
        document.getElementById("player-input").style.display = "none";
        document.getElementById("game").style.display = "block";

        var currentPlayer = player1;
        var cells = document.getElementsByClassName("cell");

        for (var i = 0; i < cells.length; i++) {
          cells[i].addEventListener("click", cellClick);
        }

        setMessage(currentPlayer + ", you're up!");

        function cellClick() {
          if (this.innerHTML === "") {
            this.innerHTML = currentPlayer === player1 ? "X" : "O";
            this.removeEventListener("click", cellClick);

            if (checkWin()) {
              setMessage(currentPlayer + ", congratulations, you won!");
              removeCellClickListeners();
            } else if (checkDraw()) {
              setMessage("It's a draw!");
              removeCellClickListeners();
            } else {
              currentPlayer = currentPlayer === player1 ? player2 : player1;
              setMessage(currentPlayer + ", you're up!");
            }
          }
        }

        function setMessage(message) {
          document.querySelector(".message").innerHTML = message;
        }

        function checkWin() {
          var winConditions = [
            [1, 2, 3],
            [4, 5, 6],
            [7, 8, 9],
            [1, 4, 7],
            [2, 5, 8],
            [3, 6, 9],
            [1, 5, 9],
            [3, 5, 7]
          ];

          for (var i = 0; i < winConditions.length; i++) {
            var [a, b, c] = winConditions[i];
            if (
              cells[a - 1].innerHTML !== "" &&
              cells[a - 1].innerHTML === cells[b - 1].innerHTML &&
              cells[a - 1].innerHTML === cells[c - 1].innerHTML
            ) {
              return true;
            }
          }

          return false;
        }

        function checkDraw() {
          for (var i = 0; i < cells.length; i++) {
            if (cells[i].innerHTML === "") {
              return false;
            }
          }

          return true;
        }

        function removeCellClickListeners() {
          for (var i = 0; i < cells.length; i++) {
            cells[i].removeEventListener("click", cellClick);
          }
        }
      }
    });
  </script>
</body>
</html>
